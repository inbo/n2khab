<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Return a RasterLayer or an sf polygon layer from the processed data
source GRTSmh_diffres — read_GRTSmh_diffres • n2khab</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Return a RasterLayer or an sf polygon layer from the processed data
source GRTSmh_diffres — read_GRTSmh_diffres" />
<meta property="og:description" content="The GRTSmh_diffres data source is derived from
GRTSmh_brick.
It provides the hierarchical levels 1 to 9 of the
GRTS cell addresses at the corresponding spatial resolution.
The function returns one selected level, either as a RasterLayer or as an
sf polygon layer (in the latter case, only levels 4 to 9 are
provided).
The coordinate reference system is 'BD72 / Belgian Lambert 72'
(EPSG-code 31370)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">n2khab</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v010_reference_lists.html">Reference lists and using them</a>
    </li>
    <li>
      <a href="../articles/v020_datastorage.html">Where to store the N2KHAB input data sources</a>
    </li>
    <li>
      <a href="../articles/v022_example.html">Demonstrating package &amp; data setup and handling of sf objects: a case with read_soilmap()</a>
    </li>
    <li>
      <a href="../articles/v025_geospatial_hab.html">Working with geospatial data sources of habitat (sub)types and RIBs</a>
    </li>
    <li>
      <a href="../articles/v030_GRTSmh.html">Using the GRTS data sources</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/inbo/n2khab/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Return a RasterLayer or an <code>sf</code> polygon layer from the processed data
source <code>GRTSmh_diffres</code></h1>
    <small class="dont-index">Source: <a href='https://github.com/inbo/n2khab/blob/master/R/GRTSmh.R'><code>R/GRTSmh.R</code></a></small>
    <div class="hidden name"><code>read_GRTSmh_diffres.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>GRTSmh_diffres</code> data source is derived from
<code>GRTSmh_brick</code>.
It provides the hierarchical levels 1 to 9 of the
GRTS cell addresses at the corresponding spatial resolution.
The function returns one selected level, either as a RasterLayer or as an
<code>sf</code> polygon layer (in the latter case, only levels 4 to 9 are
provided).
The coordinate reference system is 'BD72 / Belgian Lambert 72'
(EPSG-code <a href='https://epsg.io/31370'>31370</a>).</p>
    </div>

    <pre class="usage"><span class='fu'>read_GRTSmh_diffres</span><span class='op'>(</span>
  dir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='fileman_up.html'>fileman_up</a></span><span class='op'>(</span><span class='st'>"n2khab_data"</span><span class='op'>)</span>, <span class='st'>"20_processed/GRTSmh_diffres"</span><span class='op'>)</span>,
  <span class='va'>level</span>,
  polygon <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dir</th>
      <td><p>The data source directory (absolute or relative).
The default follows the data management advice in the
vignette on data storage (run <code><a href='../articles/v020_datastorage.html'>vignette("v020_datastorage")</a></code>).
It uses the first <code>n2khab_data</code> folder that is found when
sequentially climbing up 0 to 10 levels in the file system hierarchy,
starting from the working directory.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>Integer in the range from 1 to 9; determines the spatial
resolution. See the Details section.</p></td>
    </tr>
    <tr>
      <th>polygon</th>
      <td><p>Logical; determines whether a polygon layer or a
RasterLayer is returned. See the Details section.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Either a RasterLayer or a Simple feature collection of geometry type
<code>POLYGON</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>GRTSmh_diffres</code> data source file is a file collection (available
at <a href='https://doi.org/10.5281/zenodo.3354405'>Zenodo</a>), composed of
nine monolayered GeoTIFF files of the <code>INT4S</code> datatype plus a GeoPackage
with six polygon layers:</p><ul>
<li><p>The polygon layers in the GeoPackage are the dissolved, polygonized
versions of levels 4 to 9 of the
<code>GRTSmh_brick</code> data source (see <code><a href='read_GRTSmh.html'>read_GRTSmh</a></code>).
This means that they provide the decimal (i.e. base 10) integer values of
these <em>higher hierarchical levels</em> of the GRTS cell addresses
of the raw data source <code>GRTSmaster_habitats</code>.
Hence, the polygons are typically squares that correspond to the GRTS cell at
the specified hierarchical level.
The polygon layer is however restricted to the non-<code>NA</code> cells of the original
<code>GRTSmaster_habitats</code> raster.
Consequently, a part of the polygons is clipped along the Flemish border.
Levels 1 to 3 are not provided for the whole of Flanders,
because this would inflate the GPKG file.
You can look at the <a href='https://github.com/inbo/n2khab-preprocessing'>source code</a>
to do such things.</p></li>
<li><p>The GeoTIFF files provide the respective levels 1 to 9 of the
<code>GRTSmh_brick</code> data source in a raster format, at the resolution that
corresponds to the GRTS cell at the specified hierarchical level.
The presence of <code>NA</code> cells around Flanders at level 0 implies that, with
decreasing resolution, the raster's extent increases and larger areas outside
Flanders are covered by non-<code>NA</code> cells along the border.</p></li>
</ul>

<p>The function returns the selected <code>level</code> either as an <code>sf</code> polygon
layer or as a RasterLayer, depending on the
<code>polygon</code> argument.</p>
<p>The higher-level ranking numbers (compared to the original level 0) allow
spatially balanced samples at lower spatial resolution than that of 32 m,
and can also be used for aggregation purposes.</p>
<p>The levels 1 to 9 correspond to the resolutions vector
<code>32 * 2^(1:9)</code> in meters:</p>
<table class='table'>
<tr><td>level</td><td>resolution (m)</td></tr>
<tr><td>1</td><td>64</td></tr>
<tr><td>2</td><td>128</td></tr>
<tr><td>3</td><td>256</td></tr>
<tr><td>4</td><td>512</td></tr>
<tr><td>5</td><td>1024</td></tr>
<tr><td>6</td><td>2048</td></tr>
<tr><td>7</td><td>4096</td></tr>
<tr><td>8</td><td>8192</td></tr>
<tr><td>9</td><td>16384</td></tr>
</table>


<p>See R-code in the <a href='https://github.com/inbo/n2khab-preprocessing'>
n2khab-preprocessing</a> repository for the creation from
the <code>GRTSmh_brick</code> data source.</p>
<p>Beware that not all GRTS ranking numbers at the specified level are
provided, as the original GRTS raster has been clipped with the Flemish
outer borders (i.e., not excluding the Brussels Capital Region).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other functions involved in processing the 'GRTSmaster_habitats' data source: 
<code><a href='convert_base4frac_to_dec.html'>convert_base4frac_to_dec</a>()</code>,
<code><a href='convert_dec_to_base4frac.html'>convert_dec_to_base4frac</a>()</code>,
<code><a href='read_GRTSmh_base4frac.html'>read_GRTSmh_base4frac</a>()</code>,
<code><a href='read_GRTSmh.html'>read_GRTSmh</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='co'># This example supposes that your working directory or a directory up to 10</span></span>
<span class='r-in'><span class='co'># levels above has</span></span>
<span class='r-in'><span class='co'># the 'n2khab_data' folder AND that the latest version of the</span></span>
<span class='r-in'><span class='co'># 'GRTSmh_diffres' data source is present in the default subdirectory.</span></span>
<span class='r-in'><span class='co'># In all other cases, this example won't work but at least you can consider</span></span>
<span class='r-in'><span class='co'># what to do.</span></span>
<span class='r-in'><span class='va'>r</span> <span class='op'>&lt;-</span> <span class='fu'>read_GRTSmh_diffres</span><span class='op'>(</span>level <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>r</span></span>
<span class='r-in'><span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/spplot.html'>spplot</a></span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'>read_GRTSmh_diffres</span><span class='op'>(</span>level <span class='op'>=</span> <span class='fl'>7</span>, polygon <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>p</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Floris Vanderhaeghe, Toon Westra, Cécile Herr, Hans Van Calster.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


